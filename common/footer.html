<div class="social-links" id="social-links">

    <div class="box6"></div>

</div>
<div class="eml">
<div class="email tooltip-footer">
    <a href="mailto:thakshiladamsak@hotmail.com" target="_blank">thakshiladamsak@hotmail.com</a>
    <span class="tooltiptext-footer">E-Mail me</span>
</div></div>

<div class="copyright">
    <div class="tooltip-footer">
        <p id="cpyrt">&copy; <span id="year"></span> Thakshila Damsak</p>
          <span class="tooltiptext-footer">Click to see site info.</span>
      </div>
</div>

<script>
    var currentYear = new Date().getFullYear();
    document.getElementById("year").innerHTML = currentYear;
</script>

<div id="site-info" class="hidden">
    
        <span>v28.10 | Updated</span>

        <span class="tooltip-footer">
          <span id="time-passed-boom" class="time-passed-boom">[loading...]</span>
            <span class="tooltiptext-footer full-date-boom"><b id="full-date-boom">[loading...]</b></span>
        </span>

         | <a href="https://github.com/ThakshilaDamsak/ThakshilaDamsak.github.io" target="_blank">GitHub Repository</a></p>
</div>

<script>
    const copyright = document.getElementById("cpyrt");
    const siteInfo = document.getElementById("site-info");

    copyright.addEventListener("click", function() {
    if (siteInfo.classList.contains("hidden")) {
      siteInfo.classList.remove("hidden");
      siteInfo.classList.add("show");
        setTimeout(function() {
          siteInfo.classList.add("hidden");
          siteInfo.classList.remove("show");
        }, 6000);
    } else {
      siteInfo.classList.add("hidden");
      siteInfo.classList.remove("show");
    }
    });

// Get social-links

 // Fetch the content of the social-links HTML file
 fetch('/common/social-links.html')
  .then(response => response.text())
  .then(html => {
    // Insert the social-links HTML into the container
    document.getElementById('social-links').innerHTML = html;

    // Execute JavaScript code within the container
    const scriptElements = Array.from(document.getElementById('social-links').getElementsByTagName('script'));
    scriptElements.forEach(script => {
      const newScript = document.createElement('script');
      newScript.textContent = script.textContent;
      // Add a load event listener to the new script element
      newScript.addEventListener('load', function() {
        // Execute the function that updates the content of the page
        this.textContent();
      });
      document.body.appendChild(newScript);
    });
  });



  // Check if the elements already exist
  const timePassedElement = document.getElementById("time-passed-boom");
  const dateElement = document.getElementById("full-date-boom");

  if (timePassedElement && dateElement) {
    // Get the current date
    const currentDate = new Date();

    // Get the last modified date of the page
    const lastModifiedDate = new Date(document.lastModified);

    // Format the date as "yyyy.MM.dd at hh:mm a" (using user's time zone)
    const options = { year: 'numeric', month: '2-digit', day: '2-digit', hour: 'numeric', minute: 'numeric', hour12: true };
    const formattedDate = lastModifiedDate.toLocaleString(undefined, options);

    // Calculate the time difference in milliseconds
    const timeDifference = currentDate - lastModifiedDate;

    // Define time intervals in milliseconds
    const minute = 60 * 1000;
    const hour = 60 * minute;
    const day = 24 * hour;
    const week = 7 * day;
    const month = 30 * day;

    // Calculate the relative time based on the time difference
    let relativeTime;
    if (timeDifference < minute) {
      relativeTime = "just now.";
    } else if (timeDifference < hour) {
      const minutes = Math.floor(timeDifference / minute);
      relativeTime = `${minutes} minute${minutes > 1 ? "s" : ""} ago.`;
    } else if (timeDifference < day) {
      const hours = Math.floor(timeDifference / hour);
      relativeTime = `${hours} hour${hours > 1 ? "s" : ""} ago.`;
    } else if (timeDifference < week) {
      const days = Math.floor(timeDifference / day);
      relativeTime = `${days} day${days > 1 ? "s" : ""} ago.`;
    } else if (timeDifference < month) {
      const weeks = Math.floor(timeDifference / week);
      relativeTime = `${weeks} week${weeks > 1 ? "s" : ""} ago.`;
    } else {
      const months = Math.floor(timeDifference / month);
      relativeTime = `${months} month${months > 1 ? "s" : ""} ago.`;
    }

    // Update the content of the <span> elements
    timePassedElement.textContent = relativeTime;
    dateElement.textContent = formattedDate;
  };
</script>