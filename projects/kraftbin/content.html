<div class="banner">
  <span><iconify-icon icon="typcn:warning"></iconify-icon> This site is still under development. <wbr> <span><a href="https://github.com/ThakshilaDamsak/KraftBin">Install KraftBin</a></span></span>
</div>

<div class="project-header">

  <div class="project-title">
    <div class="project-logo">
      <img src="https://codeberg.org/Kbin/kbin-core/raw/branch/develop/public/favicon.svg" alt="[Project Logo]">
    </div>
    <div class="project-name">
      <div class="project-name-name">
        <p>KraftBin</p>
      </div>
      <div class="project-name-discription">
        Customizable, Cleaner and familiar look for Kbin.
        <p>
      </div>
    </div>
    <div class="actions">
      <div class="action-buttons">
        <button onclick="window.open('https://userstyles.world/style/11353/kraftbin', '_blank');" id="action1">Install</button>
        <button onclick="window.open('https://github.com/ThakshilaDamsak/KraftBin', '_blank');" id="action2">Github</button>
      </div>
      <div class="last-updated">
        <p>Last Updated 
          <span class="ud-tooltip">
            <span id="kraftbin-relative-time" class="kraftbin-relative-time">[loading...]</span>
              <span class="ud-tooltiptext kraftbin-absolute-time"><b id="kraftbin-absolute-time">[loading...]</b></span>
          </span>
        </p>
      </div>
    </div>
  </div>
</div>

<div class="spacer1"></div>

<div class="project-about">

  <div class="pages page-even">
    <div class="section-content">
      <div class="info">
        <div class="title project-name-name">
          <p>Customizable</p>
        </div>
        <div class="discription project-name-discription">
          <p><b>KraftBin</b> allows you to adjust the appearance and functionality of Kbin according to your preferences. You can choose from various options, such as disabling shadows and animations, changing the sidebar size, hiding unwanted elements, and setting the content and header max width. This way, you can create a personalized and optimal user experience.</p>
        </div>
      </div>
      <div class="image image1 customizable tc-grid">
        <div class="tc-grid-header">
          <img src="https://codeberg.org/Kbin/kbin-core/raw/branch/develop/public/favicon.svg" class="tc-grid-header-image" alt="">
          <h4>KraftBin</h4>
          <p></p>
          <p class="tc-grid-header-right-title"><a href="https://github.com/ThakshilaDamsak/KraftBin/issues/new">Feedback</a></p>
        </div>

        <div class="tc-grid-container">
            <div class="tc-grid-grid-1-item">KraftBin Post Layout</div>
            <div class="tc-grid-grid-2-item">
              <label class="kraftbin-switch">
                <input type="checkbox" checked="">
                <span class="kraftbin-slider kraftbin-round"></span>
              </label>
            </div>
            <div class="tc-grid-grid-1-item">Reduce Extra Motion</div>
            <div class="tc-grid-grid-2-item">
              <label class="kraftbin-switch">
                <input type="checkbox">
                <span class="kraftbin-slider kraftbin-round"></span>
              </label>
            </div>
            <div class="tc-grid-grid-1-item">Corner Radius</div>
            <div class="tc-grid-grid-2-item">
              <input type="range" min="0" max="25" value="8"></input>
           </div>
            <div class="tc-grid-grid-1-item">Top Margin</div>
            <div class="tc-grid-grid-2-item">
              <select class="kraftbin-select">
                <option value="none">Enabled</option>
                <option value="none">Disabled</option>
              </select>
            </div>
            <div class="tc-grid-grid-1-item">Extra Shadows</div>
            <div class="tc-grid-grid-2-item">
              <select class="kraftbin-select">
                <option value="none">Normal</option>
                <option value="none">Large</option>
                <option value="none">Disabled</option>
              </select>
            </div>
            <div class="tc-grid-grid-1-item">Federated Warnings</div>
            <div class="tc-grid-grid-2-item">
              <label class="kraftbin-switch">
                <input type="checkbox" checked="">
                <span class="kraftbin-slider kraftbin-round"></span>
              </label>
            </div>
            <div class="tc-grid-grid-1-item">Sidebar</div>
            <div class="tc-grid-grid-2-item">
              <label class="kraftbin-switch">
                <input type="checkbox" checked="">
                <span class="kraftbin-slider kraftbin-round"></span>
              </label>
            </div>
            <div class="tc-grid-grid-1-item">Sidebar Size</div>
            <div class="tc-grid-grid-2-item">
              <select class="kraftbin-select">
                <option value="none">Small</option>
                <option value="none">Medium</option>
                <option value="none">Large</option>
                <option value="none">Custom</option>
              </select>
            </div>
            <div class="tc-grid-grid-1-item">Custom Sidebar Size</div>
            <div class="tc-grid-grid-2-item">
               <input type="text" placeholder="650px"></input>
            </div>
            <div class="tc-grid-grid-1-item">Random Magazines</div>
            <div class="tc-grid-grid-2-item">
              <label class="kraftbin-switch">
                <input type="checkbox" checked="">
                <span class="kraftbin-slider kraftbin-round"></span>
              </label>
            </div>
            <div class="tc-grid-grid-1-item">Active Users</div>
            <div class="tc-grid-grid-2-item">
              <label class="kraftbin-switch">
                <input type="checkbox" checked="">
                <span class="kraftbin-slider kraftbin-round"></span>
              </label>
            </div>
            <div class="tc-grid-grid-1-item">Random Posts</div>
            <div class="tc-grid-grid-2-item">
              <label class="kraftbin-switch">
                <input type="checkbox" checked="">
                <span class="kraftbin-slider kraftbin-round"></span>
              </label>
            </div>
            <div class="tc-grid-grid-1-item">Random Threads</div>
            <div class="tc-grid-grid-2-item">
              <label class="kraftbin-switch">
                <input type="checkbox" checked="">
                <span class="kraftbin-slider kraftbin-round"></span>
              </label>
            </div>
            <div class="tc-grid-grid-1-item">Kbin Promotion</div>
            <div class="tc-grid-grid-2-item">
              <select class="kraftbin-select">
                <option value="none">Show</option>
                <option value="none">Hide</option>
              </select>
            </div>
            <div class="tc-grid-grid-1-item">Scroll-Â­to-top Button</div>
            <div class="tc-grid-grid-2-item">
              <select class="kraftbin-select">
                <option value="none">Show</option>
                <option value="none">Hide</option>
              </select>
            </div>
            <div class="tc-grid-grid-1-item">Content Max Width</div>
            <div class="tc-grid-grid-2-item">
              <select class="kraftbin-select">
                <option value="none">Default</option>
                <option value="none">Kbin Default</option>
                <option value="none">Reddit-like</option>
                <option value="none">Full Width</option>
                <option value="none">Custom</option>
              </select>
            </div>
            <div class="tc-grid-grid-1-item">Custom Max Width</div>
            <div class="tc-grid-grid-2-item">
              <input type="text" placeholder="1500px"></input>
           </div>
            <div class="tc-grid-grid-1-item">Header Max Width</div>
            <div class="tc-grid-grid-2-item">
              <select class="kraftbin-select">
                <option value="none">Full Width</option>
                <option value="none">Same as Content</option>
                <option value="none">Kbin Default</option>
                <option value="none">Custom</option>
              </select>
            </div>
            <div class="tc-grid-grid-1-item">Header Custom Max Width</div>
            <div class="tc-grid-grid-2-item">
              <input type="text" placeholder="1500px"></input>
           </div>
        </div>
      </div>
    </div>
  </div>

  <div class="pages page-odd">
    <div class="section-content">
      <div class="image image2 cleaner">
        <div class="cleaner-image-header">
          <img src="https://codeberg.org/Kbin/kbin-core/raw/branch/develop/public/favicon.svg" class="cleaner-image-header-logo" alt="">
          <h4>Kbin</h4>
          <p>/all</p>
          <div class="cleaner-image-header-user-logo"></div>
          <p class="cleaner-image-header-username">ThakshilaDamsak</p>
        </div>

        <div class="cleaner-image-container">
          <div class="cleaner-image-posts">
            <div class="cleaner-image-post"></div>
            <div class="cleaner-image-post"></div>
          </div>
          <div class="cleaner-image-sidebars">
            <div class="cleaner-image-sidebar"></div>
            <div class="cleaner-image-sidebar"></div>
            <div class="cleaner-image-sidebar"></div>
          </div>
        </div>
      </div>
      <div class="info">
        <div class="title project-name-name">
          <p>Cleaner</p>
        </div>
        <div class="discription project-name-discription">
          <p><b>KraftBin</b> enhances the readability and aesthetics of Kbin by removing clutter and noise. You can disable federated warnings, hide the sidebar, and hide the scroll-to-top button. You can also use custom corner radius and Reddit-like post layout to create a smoother and more modern look.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="pages page-even">
    <div class="section-content">
      <div class="info">
        <div class="title project-name-name">
          <p>And Familiar</p>
        </div>
        <div class="discription project-name-discription">
          <p><b>KraftBin</b> makes Kbin more user-friendly and intuitive by adopting elements from popular platforms, such as Reddit. You can use the Reddit-like post layout to view posts in a familiar and consistent format. You can also hide sidebar elements that are not relevant to your interests, such as random magazines, active users, random posts, and random threads.</p>
        </div>
      </div>
      <div class="image image2 familiar">
        <div class="vote">
          <div class="vote-up">
            <input  type="checkbox" class="vote-up-check-input" />
            <span class="vote-up-check-text"><iconify-icon icon="fa-solid:arrow-up"></iconify-icon></span>
          </div>
          <div class="vote-down">
            <input  type="checkbox" class="vote-down-check-input" />
            <span class="vote-down-check-text"><iconify-icon icon="fa-solid:arrow-down"></iconify-icon></span>
          </div>

          <script>
            // Get the checkboxes and store them in variables
          var voteUp = document.querySelector(".vote-up-check-input");
          var voteDown = document.querySelector(".vote-down-check-input");

          // Add a click event listener to the vote up checkbox
          voteUp.addEventListener("click", function() {
            // If the vote up checkbox is checked, uncheck the vote down checkbox
            if (voteUp.checked) {
              voteDown.checked = false;
            }
          });

          // Add a click event listener to the vote down checkbox
          voteDown.addEventListener("click", function() {
            // If the vote down checkbox is checked, uncheck the vote up checkbox
            if (voteDown.checked) {
              voteUp.checked = false;
            }
          });

          </script>

        </div>
        <div class="post">
          <div class="post-title">
            <p><span>Discover Fediverse Content!</span>
            <a href="https://codeberg.org/Kbin/kbin-core/src/branch/develop/public/kbin-og.png" target="_blank">(codeberg.org)</a></p>
          </div>
          <div class="post-image">
            <img src="https://codeberg.org/Kbin/kbin-core/raw/branch/develop/public/kbin-og.png" alt="">
          </div>
          <div class="post-text">Create and moderate communities, meet people with similar interests, and develop your passions.</div>
          <div class="post-footer">
            <div class="post-footer-details"><b>ThakshilaDamsak</b>, 2 hours ago to <b class="space">Kbin </b></div>
            <div class="post-footer-menu">
              <span><iconify-icon icon="fa6-solid:photo-film"></iconify-icon></span>
              <span>comment</span>
              <span>boost</span>
              <span>more</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<script>
  // Define the URL of the GitHub API endpoint
const url = "https://api.github.com/repos/ThakshilaDamsak/KraftBin/commits/main";

// Use fetch() to make an HTTP request to the API
fetch(url)
  // Handle the response
  .then((response) => {
    // Check if the response is ok
    if (response.ok) {
      // Return the response as JSON
      return response.json();
    } else {
      // Throw an error
      throw new Error(`HTTP error: ${response.status}`);
    }
  })
  // Handle the JSON data
  .then((data) => {
    // Get the timestamp from the JSON data
    const timestamp = data.commit.author.date; // "2021-11-20T16:14:00Z"

    // Parse the timestamp and create a Date object
    const date = new Date(Date.parse(timestamp));

    // Log the date to the console
    console.log(date); // Sat Nov 20 2021 21:44:00 GMT+0530 (India Standard Time)

    // Get the current date
    const currentDate = new Date();

    // Calculate the time difference in milliseconds
    const timeDifference = currentDate - date;

    // Define time intervals in milliseconds
    const minute = 60 * 1000;
    const hour = 60 * minute;
    const day = 24 * hour;
    const week = 7 * day;
    const month = 30 * day;

    // Calculate the relative time based on the time difference
    let relativeTime;
    if (timeDifference < minute) {
      relativeTime = "just now.";
    } else if (timeDifference < hour) {
      const minutes = Math.floor(timeDifference / minute);
      relativeTime = `${minutes} minute${minutes > 1 ? "s" : ""} ago.`;
    } else if (timeDifference < day) {
      const hours = Math.floor(timeDifference / hour);
      relativeTime = `${hours} hour${hours > 1 ? "s" : ""} ago.`;
    } else if (timeDifference < week) {
      const days = Math.floor(timeDifference / day);
      relativeTime = `${days} day${days > 1 ? "s" : ""} ago.`;
    } else if (timeDifference < month) {
      const weeks = Math.floor(timeDifference / week);
      relativeTime = `${weeks} week${weeks > 1 ? "s" : ""} ago.`;
    } else {
      const months = Math.floor(timeDifference / month);
      relativeTime = `${months} month${months > 1 ? "s" : ""} ago.`;
    }

    // Format the date as "yyyy.MM.dd at hh:mm a" (using user's time zone)
    const options = {
      year: "numeric",
      month: "2-digit",
      day: "2-digit",
      hour: "numeric",
      minute: "numeric",
      hour12: true,
    };
    const formattedDate = date.toLocaleString(undefined, options);

    // Get the elements by id
    const absoluteDateElement = document.getElementById("kraftbin-absolute-time");
    const relativeDateElement = document.getElementById("kraftbin-relative-time");

    // Update the content of the elements
    absoluteDateElement.textContent = formattedDate;
    relativeDateElement.textContent = relativeTime;
  })
  // Handle any errors
  .catch((error) => {
    // Log the error to the console
    console.error(error);
  });

</script>